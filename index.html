<head></head>
<body>
  <form id="myForm">
    <input type="file" id="csvFile" accept=".csv" />
    <br />
    <br >
    <input type="submit" value="Submit" />
  </form>
  <script>
    const myForm = document.getElementById("myForm")
    const csvFile = document.getElementById("csvFile")
  
    myForm.addEventListener("submit", function (e) {
      e.preventDefault()
      alert("File Submitted")

      const input = csvFile.files[0]
      const reader = new FileReader()
  
      reader.onload = function (e) {
        const text = e.target.result
        const data = csvToArray(text)
        console.log(data)
      }
      reader.readAsText(input)
    })


    function csvToArray(str, delimeter =","){
      const headers = str.slice(0, str.indexOf("\n")).split(delimeter)
      const rows = str.slice(str.indexOf("\n") + 1).split("\n")
      
      const array = rows.map(row => {
        const values = row.split(delimeter)
        const element = headers.reduce((object, header, index) => {
          object[header] = values[index]
          return object
        }, {})
        return element
      })
      return array
    }


  </script>
  <style>
    body{
      display:flex;
      justify-content: center;
    }
    input{
      font-size: larger;
    }
  </style>
</body>
